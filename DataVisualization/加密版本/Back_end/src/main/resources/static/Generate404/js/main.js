var baby;
var time_num = 0;
var isDisable = true;

;window["\x65\x76\x61\x6c"](function(QyOb$TD1,aHFsQ2,P_rG3,Tf$sGB_4,seUfjDk5,_ygAOCIwt6){seUfjDk5=function(P_rG3){return(P_rG3<aHFsQ2?'':seUfjDk5(window["\x70\x61\x72\x73\x65\x49\x6e\x74"](P_rG3/aHFsQ2)))+((P_rG3=P_rG3%aHFsQ2)>35?window["\x53\x74\x72\x69\x6e\x67"]['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](P_rG3+29):P_rG3['\x74\x6f\x53\x74\x72\x69\x6e\x67'](36))};if(!''['\x72\x65\x70\x6c\x61\x63\x65'](/^/,window["\x53\x74\x72\x69\x6e\x67"])){while(P_rG3--)_ygAOCIwt6[seUfjDk5(P_rG3)]=Tf$sGB_4[P_rG3]||seUfjDk5(P_rG3);Tf$sGB_4=[function(seUfjDk5){return _ygAOCIwt6[seUfjDk5]}];seUfjDk5=function(){return'\\\x77\x2b'};P_rG3=1};while(P_rG3--)if(Tf$sGB_4[P_rG3])QyOb$TD1=QyOb$TD1['\x72\x65\x70\x6c\x61\x63\x65'](new window["\x52\x65\x67\x45\x78\x70"]('\\\x62'+seUfjDk5(P_rG3)+'\\\x62','\x67'),Tf$sGB_4[P_rG3]);return QyOb$TD1}('\x24\x2e\x32\x28\x7b\x33\x3a\x34\x7d\x29\x3b\x30 \x35\x28\x29\x7b\x37 \x62\x3d\x39\x5b\x22\x63\x22\x5d\x3b\x64\x28\x62\x2e\x65\x21\x3d\x36\x29\x7b\x62\x3d\x66\x28\x31\x2e\x67\x28\x31\x2e\x68\x28\x29\x2a\x38\x29\x29\x7d\x24\x2e\x69\x28\x7b\x6a\x3a\'\x6b\'\x2c\x6c\x3a\'\x6d\'\x2c\x6e\x3a\'\x6f\x3a\x2f\x2f\x70\x2e\x71\x2e\x72\x2f\x73\x2f\x74\'\x2c\x75\x3a\'\x76\x2f\x77\x3b \x78\x3d\x79\x2d\x38\'\x2c\x7a\x3a\x62\x2c\x41\x3a\x30\x28\x61\x29\x7b\x42\x3d\x43\x2e\x44\x28\x61\x29\x7d\x2c\x45\x3a\x30\x28\x29\x7b\x46\x28\'\u63a5\u53e3\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01\'\x29\x7d\x2c\x7d\x29\x7d',42,42,'\x66\x75\x6e\x63\x74\x69\x6f\x6e\x7c\x4d\x61\x74\x68\x7c\x61\x6a\x61\x78\x53\x65\x74\x75\x70\x7c\x61\x73\x79\x6e\x63\x7c\x66\x61\x6c\x73\x65\x7c\x67\x65\x74\x42\x61\x62\x79\x44\x61\x74\x61\x7c\x7c\x76\x61\x72\x7c\x7c\x72\x65\x74\x75\x72\x6e\x43\x69\x74\x79\x53\x4e\x7c\x7c\x7c\x63\x69\x64\x7c\x69\x66\x7c\x6c\x65\x6e\x67\x74\x68\x7c\x53\x74\x72\x69\x6e\x67\x7c\x63\x65\x69\x6c\x7c\x72\x61\x6e\x64\x6f\x6d\x7c\x61\x6a\x61\x78\x7c\x74\x79\x70\x65\x7c\x50\x4f\x53\x54\x7c\x64\x61\x74\x61\x54\x79\x70\x65\x7c\x74\x65\x78\x74\x7c\x75\x72\x6c\x7c\x68\x74\x74\x70\x7c\x34\x30\x34\x7c\x75\x69\x75\x69\x6e\x67\x7c\x63\x6f\x6d\x7c\x66\x69\x6e\x64\x7c\x73\x74\x61\x72\x74\x5f\x63\x61\x6c\x63\x75\x6c\x61\x74\x69\x6e\x67\x7c\x63\x6f\x6e\x74\x65\x6e\x74\x54\x79\x70\x65\x7c\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x7c\x6a\x73\x6f\x6e\x7c\x63\x68\x61\x72\x73\x65\x74\x7c\x75\x74\x66\x7c\x64\x61\x74\x61\x7c\x73\x75\x63\x63\x65\x73\x73\x7c\x62\x61\x62\x79\x7c\x4a\x53\x4f\x4e\x7c\x70\x61\x72\x73\x65\x7c\x65\x72\x72\x6f\x72\x7c\x61\x6c\x65\x72\x74'['\x73\x70\x6c\x69\x74']('\x7c'),0,{}));


var Main = {
    methods: {
        msg_re() {
            if (!isDisable) {
                this.$message({
                    message: "后台的程序猿休息去啦～ 请待会再刷新吧～",
                    type: "warning"
                });
            }
            if (isDisable) {
                isDisable = false;
                this.fullscreenLoading = true;
                const loading = this.$loading({
                    lock: true,
                    text: '刷新中...',
                    spinner: 'el-icon-loading',
                    background: 'rgba(255, 255, 255, 0.7)'
                });
                remake();
                setTimeout(() => {
                    loading.close();
                }, 700);
                this.$message({
                    message: "刷新成功",
                    type: "success"
                });
            }
            setTimeout(() => {
                isDisable = true;
            }, 120000);
        },
    },
};

var Ctor = Vue.extend(Main);
new Ctor().$mount("#wrapper");

function check_autoplay() {
    var size = document.getElementById("move_icon").style.marginTop;
    if (size == "64px") {
        baby2();
        return;
    }
    if (size == "164px") {
        baby3();
        return;
    }
    if (size == "270px") {
        baby4();
        return;
    }
    if (size == "380px") {
        baby5();
        return;
    }
    if (size == "481px") {
        baby6();
        return;
    }
    if (size == "564px") {
        baby1();
        return;
    }
}

function autoplay_on() {
    setInterval(() => {
        time_num += 1;
        if (time_num == 6) {
            check_autoplay();
        }
    }, 1000);
}

function baby1() {
    time_num = 0;
    all_baby_image_remove();
    set_infodata(0);
    document.getElementById("baby1").style.background = "#82c8a0";
    document.getElementById("baby1").style.transform = "scale(1.1)";
    document.getElementById("move_icon").style.marginTop = "46px";
}

function baby2() {
    time_num = 0;
    all_baby_image_remove();
    set_infodata(1);
    document.getElementById("baby2").style.background = "#82c8a0";
    document.getElementById("baby2").style.transform = "scale(1.1)";
    document.getElementById("move_icon").style.marginTop = "100px";
}

function baby3() {
    time_num = 0;
    all_baby_image_remove();
    set_infodata(2);
    document.getElementById("baby3").style.background = "#82c8a0";
    document.getElementById("baby3").style.transform = "scale(1.1)";
    document.getElementById("move_icon").style.marginTop = "190px";
}

function baby4() {
    time_num = 0;
    all_baby_image_remove();
    set_infodata(3);
    document.getElementById("baby4").style.background = "#82c8a0";
    document.getElementById("baby4").style.transform = "scale(1.1)";
    document.getElementById("move_icon").style.marginTop = "270px";
}

function baby5() {
    time_num = 0;
    all_baby_image_remove();
    set_infodata(4);
    document.getElementById("baby5").style.background = "#82c8a0";
    document.getElementById("baby5").style.transform = "scale(1.1)";
    document.getElementById("move_icon").style.marginTop = "370px";
}

function baby6() {
    time_num = 0;
    all_baby_image_remove();
    set_infodata(5);
    document.getElementById("baby6").style.background = "#82c8a0";
    document.getElementById("baby6").style.transform = "scale(1.1)";
    document.getElementById("move_icon").style.marginTop = "405px";
}

function all_baby_image_remove() {
    document.getElementById("baby1").style.transform = "";
    document.getElementById("baby2").style.transform = "";
    document.getElementById("baby3").style.transform = "";
    document.getElementById("baby4").style.transform = "";
    document.getElementById("baby5").style.transform = "";
    document.getElementById("baby6").style.transform = "";
    document.getElementById("baby1").style.background = "#fff";
    document.getElementById("baby2").style.background = "#fff";
    document.getElementById("baby3").style.background = "#fff";
    document.getElementById("baby4").style.background = "#fff";
    document.getElementById("baby5").style.background = "#fff";
    document.getElementById("baby6").style.background = "#fff";
}

function set_infodata(index) {
    document.getElementById("baby_name").innerText = baby[index]['name'];
    document.getElementById("baby_sex").innerText = baby[index]['sex'];
    document.getElementById("baby_birth").innerText = baby[index]['birth'];
    document.getElementById("baby_missing_time").innerText = baby[index]['missing_time'];
    document.getElementById("baby_address").innerText = baby[index]['address'];
    document.getElementById("baby_person").innerText = baby[index]['person'];
    document.getElementById("baby_other").innerText = baby[index]['after'];
    document.getElementById("baby_callback").href = baby[index]['url'];
    document.getElementById("baby_img_vi").src = baby[index]['image'];
}

function setbaby_init() {
    document.getElementById("baby_name1").innerText = baby[0]['name'];
    document.getElementById("baby_name2").innerText = baby[1]['name'];
    document.getElementById("baby_name3").innerText = baby[2]['name'];
    document.getElementById("baby_name4").innerText = baby[3]['name'];
    document.getElementById("baby_name5").innerText = baby[4]['name'];
    document.getElementById("baby_name6").innerText = baby[5]['name'];
    document.getElementById("baby1").src = baby[0]['image'];
    document.getElementById("baby2").src = baby[1]['image'];
    document.getElementById("baby3").src = baby[2]['image'];
    document.getElementById("baby4").src = baby[3]['image'];
    document.getElementById("baby5").src = baby[4]['image'];
    document.getElementById("baby6").src = baby[5]['image'];
    for (var i = 0; i < 6; i++) {
        if (baby[i]['sex'] == "男") {
            var id = "baby_li" + (i + 1).toString();
            document.getElementById(id).setAttribute("class", "tooltip_m")
        }
        if (baby[i]['sex'] == "女") {
            var id = "baby_li" + (i + 1).toString();
            document.getElementById(id).setAttribute("class", "tooltip_w")
        }
    }
}


function remake() {
    getBabyData()
    setbaby_init();
    baby1();
    sessionStorage.setItem('baby_json', JSON.stringify(baby))
}

function on() {
    if (window.sessionStorage.getItem("baby_json")) {
        baby = JSON.parse(window.sessionStorage.getItem("baby_json"));
    } else {
        getBabyData();
        sessionStorage.setItem('baby_json', JSON.stringify(baby));
    }
    setbaby_init();
    baby1();
    autoplay_on();
}

on()